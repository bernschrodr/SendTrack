{"version":3,"sources":["img/image-from-rawpixel-id-558785-jpeg.jpg","SVG/search-solid.svg","SVG/youtube-icon.svg","SVG/spotify-icon.svg","SVG/youtube-music-icon.svg","SVG/deezer-icon.svg","SendTrack_lib.js","Components/InputForm.js","Components/Link.js","Components/LinksBlock.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","ServicesUrl","youtubeMusic","youtube","spotify","appleMusic","deezer","notValidObj","notValid","logArray","urlWorker","url","objectToCompare","serviceObj","inputUrl","index","serviceName","indexOf","substring","length","Service","found","checkServiceUrl","cutUrl","urlString","eraseDomain","push","console","log","service","checkService","artist","track","requestObj","requestYoutubeObject","urlSubstring","argumentsObj","type","eraseYoutubeWatchArg","arrayArguments","split","i","argument","value","JSON","stringify","createYoutubeArguments","resUrl","items","snippet","title","channelTitle","eraseBrackets","eraseFeat","id","createObjectToCompare","requestSpotifyObject","toString","createSpotifyArguments","name","external_urls","artists","requestDeezerObject","createDeezerArguments","title_short","link","urlValidator","str","result","requestType","objType","xhr","XMLHttpRequest","resultRequest","videoInfoObj","isAlbum","open","send","status","alert","statusText","parse","responseText","pageInfo","totalResults","API_KEY","buffer","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","getCookie","obj","token","options","expires","d","Date","setTime","getTime","toUTCString","encodeURIComponent","updatedCookie","propName","propValue","setCookie","now","getSpotifyToken","checkTokenInCookie","q","setRequestHeader","total","createArrayOfUrls","arrayOfUrls","initialService","hasOwnProperty","writeProps","albumArt","spotifyRequest","requestedObj","returnedItem","spotifyReturnedObject","artistName","trackName","similarObject","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","tracks","Symbol","iterator","next","done","item","validator","matchStringsWithoutSpecs","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","err","return","searchInSpotifyObject","album","images","youtubeRequest","youtubeReturnedObject","foundFlag","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","validTitle","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","searchInYoutubeObject","trim","videoId","thumbnails","high","deezerRequest","deezerReturnedObject","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","data","searchInDeezerObject","cover_xl","firstString","secondString","reg","splitedFirstString","splitedSecondString","filter","el","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","substringFirst","indicator","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","substringSecond","search","arguments","serviceString","InputForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","placeholder","content","isUrl","handleInputChange","bind","assertThisInitialized","handleSubmit","e","target","setState","preventDefault","input","onSubmit","react_default","a","createElement","className","onChange","onClick","src","searchLogo","alt","Component","LinksBlock","href","rel","getInfo","getLinks","spotify_icon","youtube_icon","youtubeMusic_icon","deezer_icon","Link_LinksBlock","App","initialState","background","getLink","objToCompare","splitedString","word","searchByWord","InputForm_InputForm","LinksBlock_LinksBlock","isLocalhost","Boolean","window","location","hostname","registerValidSW","swUrl","config","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","onSuccess","catch","error","ReactDOM","render","src_App","getElementById","URL","process","origin","addEventListener","concat","fetch","response","contentType","headers","get","ready","unregister","reload","checkValidServiceWorker"],"mappings":"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","file":"static/js/main.ff1313d6.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/image-from-rawpixel-id-558785-jpeg.be7bc74e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/search-solid.f542b8a3.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube-icon.98390dab.svg\";","module.exports = __webpack_public_path__ + \"static/media/spotify-icon.e3366f54.svg\";","module.exports = __webpack_public_path__ + \"static/media/youtube-music-icon.78295c28.svg\";","module.exports = __webpack_public_path__ + \"static/media/deezer-icon.02166da7.svg\";","const ServicesUrl = {\r\n    youtubeMusic: \"music.youtube\",\r\n    youtube: \"youtube\",\r\n    spotify: \"spotify\",\r\n    appleMusic: \"music.apple\",\r\n    deezer: \"deezer\"\r\n\r\n}\r\nconst notValidObj = { notValid: '' };\r\n\r\nvar logArray = [];\r\n\r\nexport function searchByWord(str) {\r\n    if (str === '')\r\n        return { notValid: 'empty string' }\r\n    var splitedString;\r\n    if (str.indexOf('-') !== -1)\r\n        splitedString = str.split('-');\r\n    if (str.indexOf('–') !== -1)\r\n        splitedString = str.split('–');\r\n\r\n    //LOG\r\n    logArray.push('Entered into text form: [' + splitedString.toString() + ']\\n')\r\n    console.log('Entered into text form:' +  splitedString);\r\n    //\r\n\r\n    splitedString = splitedString.filter(word => word !== '');\r\n    var objectToCompare = { notValid: 'not valid input' };\r\n    if (splitedString.length > 1)\r\n        objectToCompare = createObjectToCompare(splitedString[0].trim(), splitedString[1].trim());\r\n\r\n    return objectToCompare;\r\n}\r\n\r\nexport function urlWorker(url) {\r\n    var serviceObj = checkService(url);\r\n    var objectToCompare;\r\n\r\n    if (serviceObj.service === ServicesUrl.youtube || serviceObj.service === ServicesUrl.youtubeMusic) {\r\n        let requestObj = requestYoutubeObject(\r\n            createYoutubeArguments(serviceObj), 'track');\r\n\r\n        if ('isAlbum' in requestObj)\r\n            return {\r\n                notValid: 'this is playlist. Now we cant work with them',\r\n                artist: '',\r\n                track: 'this is playlist. Now we cant work with them',\r\n                url: '',\r\n                service: serviceObj.service\r\n            }\r\n\r\n        if ('notValid' in requestObj)\r\n            return {\r\n                notValid: requestObj.notValid,\r\n                artist: '',\r\n                track: requestObj.notValid,\r\n                url: '',\r\n                service: serviceObj.service\r\n            };\r\n\r\n        //LOG\r\n        logArray.push('Youtube obj from input: [' + JSON.stringify(requestObj) + ']\\n')\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n        let artist;\r\n        let track;\r\n        let index = requestObj.items[0].snippet.title.indexOf('-');\r\n\r\n        if (requestObj.items[0].snippet.title.indexOf('-') !== -1) {\r\n            artist = requestObj.items[0].snippet.title.substring(0, index);\r\n            track = requestObj.items[0].snippet.title.substring(index, requestObj.items[0].snippet.title.length);\r\n        }\r\n        else {\r\n            artist = requestObj.items[0].snippet.channelTitle;\r\n            track = requestObj.items[0].snippet.title;\r\n        }\r\n        //ERASE BRACKETS \r\n        track = eraseBrackets(track);\r\n        artist = eraseBrackets(artist);\r\n        track = eraseFeat(track);\r\n        artist = eraseFeat(artist);\r\n\r\n        var resUrl;\r\n        if (serviceObj.service === 'youtube')\r\n            resUrl = \"https://www.youtube.com/watch?v=\" + requestObj.items[0].id;\r\n        else\r\n            if (serviceObj.service === 'youtubeMusic')\r\n                resUrl = \"https://www.music.youtube.com/watch?v=\" + requestObj.items[0].id;\r\n\r\n        objectToCompare = createObjectToCompare(artist, track, resUrl, serviceObj.service);\r\n\r\n        index = objectToCompare.artist.indexOf(\" - Topic\");\r\n        if (index !== -1)\r\n            objectToCompare.artist = objectToCompare.artist.substring(0, index);\r\n\r\n        //LOG\r\n        logArray.push('Created youtube obj to compare: [' + JSON.stringify(objectToCompare) + ']\\n')\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n        return objectToCompare;\r\n    }\r\n\r\n    if (serviceObj.service === ServicesUrl.spotify) {\r\n        let requestObj = requestSpotifyObject(\r\n            createSpotifyArguments(serviceObj), 'track');\r\n\r\n       //LOG\r\n       logArray.push('Spotify obj from input: [' + JSON.stringify(requestObj) + ']\\n')\r\n       console.log(logArray[logArray.length-1]);\r\n       //\r\n\r\n        if (requestObj.type === 'album') {\r\n            return {\r\n                artist: '',\r\n                track: 'this is album',\r\n                url: '',\r\n                notValid: 'this is album'\r\n            }\r\n        }\r\n\r\n        if ('notValid' in requestObj)\r\n            return {\r\n                artist: '',\r\n                track: 'error:' + requestObj.notValid,\r\n                url: '',\r\n                notValid: 'error:' + requestObj.notValid\r\n            }\r\n\r\n        let track = requestObj.name;\r\n        let url = requestObj.external_urls.spotify;\r\n        let artist = requestObj.artists[0].name;\r\n\r\n        //ERASE BRACKETS\r\n        track = eraseBrackets(track);\r\n        artist = eraseBrackets(artist);\r\n        track = eraseFeat(track);\r\n        artist = eraseFeat(artist);\r\n\r\n        objectToCompare = createObjectToCompare(artist, track, url, serviceObj.service);\r\n        \r\n        //LOG\r\n        logArray.push('Created spotify obj to compare: [' + JSON.stringify(objectToCompare) + ']\\n')\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n        return objectToCompare;\r\n    }\r\n\r\n    if (serviceObj.service === ServicesUrl.deezer) {\r\n        let requestObj = requestDeezerObject(createDeezerArguments(serviceObj), 'track');\r\n        \r\n        //LOG\r\n       logArray.push('Deezer obj from input: [' + JSON.stringify(requestObj) + ']\\n')\r\n       console.log(logArray[logArray.length-1]);\r\n       //\r\n\r\n        if (requestObj.type === 'album') {\r\n            return {\r\n                artist: '',\r\n                track: 'this is album',\r\n                url: '',\r\n                notValid: 'this is album'\r\n            }\r\n        }\r\n\r\n        if ('notValid' in requestObj)\r\n            return {\r\n                artist: '',\r\n                track: 'error:' + requestObj.notValid,\r\n                url: '',\r\n                notValid: 'error:' + requestObj.notValid\r\n            }\r\n\r\n        let track = requestObj.title_short;\r\n        let url = requestObj.link;\r\n        let artist = requestObj.artist.name;\r\n\r\n        track = eraseBrackets(track);\r\n        artist = eraseBrackets(artist);\r\n        track = eraseFeat(track);\r\n        artist = eraseFeat(artist);\r\n        \r\n        objectToCompare = createObjectToCompare(artist, track, url, ServicesUrl.deezer);\r\n\r\n        //LOG\r\n        logArray.push('Created deezer obj to compare: [' + JSON.stringify(objectToCompare) + ']\\n')\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n        return objectToCompare;\r\n    }\r\n\r\n    return {\r\n        notValid: 'Not Found:(',\r\n        artist: 'Not Found:(',\r\n        track: '',\r\n        url: ''\r\n    };\r\n}\r\n\r\nexport function urlValidator(url) {\r\n    let index;\r\n    if (url.indexOf('.') !== -1)\r\n        index = url.indexOf('.');\r\n    else\r\n        return false;\r\n\r\n    index = url.indexOf('/', index);\r\n    if (index !== -1)\r\n        return true;\r\n    else\r\n        return false;\r\n}\r\n\r\nfunction eraseDomain(urlString) {\r\n    var index = urlString.indexOf('/');\r\n    return urlString.substring(index + 1);\r\n}\r\n\r\nfunction eraseBrackets(str) {\r\n    let result = str;\r\n    let index;\r\n    if (str.indexOf('(') !== -1 && str.indexOf(')') !== -1) {\r\n        index = str.indexOf('(');\r\n        result = str.substring(0, index) + str.substring(str.indexOf(')') + 1, str.length);\r\n    }\r\n\r\n    if (str.indexOf('[') !== -1 && str.indexOf(']') !== -1) {\r\n        index = str.indexOf('[');\r\n        result = str.substring(0, index) + str.substring(str.indexOf(']') + 1, str.length);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\nfunction eraseFeat(str) {\r\n    let result = str;\r\n    let index;\r\n    if (str.indexOf(/feat/i) !== -1) {\r\n        index = str.indexOf(/feat/i);\r\n        result = str.substring(0, index);\r\n    }\r\n\r\n    return result;\r\n}\r\n\r\n\r\nfunction requestYoutubeObject(argumentsObj, requestType) {\r\n\r\n    var objType = argumentsObj.type;\r\n    delete argumentsObj.type;\r\n\r\n    var xhr = new XMLHttpRequest();\r\n    const YOUTUBE_API_SERVER = \"https://www.googleapis.com/youtube/v3/\";\r\n    const API_KEY = \"AIzaSyBEYdv5D-1VmQHgb5d3jR2qn2mo_mvlr9g\";\r\n    var resultRequest = YOUTUBE_API_SERVER;\r\n    const maxResults = 25;\r\n\r\n    let videoInfoObj = notValidObj;\r\n\r\n    if (objType === 'album') {\r\n        resultRequest += 'playlistItems?';\r\n        return {\r\n            isAlbum: ''\r\n        }\r\n    }\r\n\r\n    switch (requestType) {\r\n        case 'track':\r\n            resultRequest += 'videos?';\r\n            break;\r\n        case 'search':\r\n            resultRequest += 'search?';\r\n            break;\r\n        default:\r\n            videoInfoObj.notValid = \"Not valid youtube request type\";\r\n            //LOG\r\n            logArray.push('Not valid youtube request type\\n');\r\n            console.log(logArray[logArray.length-1]);\r\n            //\r\n            return videoInfoObj;\r\n\r\n    }\r\n    resultRequest += 'part=snippet';\r\n\r\n    for (var argument in argumentsObj) {\r\n        switch (argument) {\r\n            case 'v':\r\n                resultRequest += \"&id=\" + argumentsObj[argument];\r\n                break;\r\n            case 'q':\r\n                resultRequest += \"&q=\" + argumentsObj[argument] +\r\n                    \"&maxResults=\" + maxResults + \"&type=video&videoCategoryId=10\";\r\n                break;\r\n            case 'list':\r\n                break;\r\n            case 'feature':\r\n                break;\r\n\r\n            default:\r\n                //LOG\r\n                logArray.push('Bad youtube argument\\n');\r\n                console.log(logArray[logArray.length-1]);\r\n                //\r\n                break;\r\n        }\r\n    }\r\n    resultRequest += \"&key=\" + API_KEY;\r\n\r\n    //LOG\r\n    logArray.push('Request youtube url: ' + resultRequest + '\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    xhr.open('GET', resultRequest, false);\r\n    // 3. Отсылаем запрос\r\n    xhr.send();\r\n\r\n    \r\n\r\n    // 4. Если код ответа сервера не 200, то это ошибка\r\n    if (xhr.status !== 200) {\r\n        // обработать ошибку\r\n        alert(xhr.status + ': ' + xhr.statusText); // пример вывода: 404: Not Found\r\n        videoInfoObj.notValid = xhr.status + ':' + xhr.statusText;\r\n    } else {\r\n        // вывести результат\r\n        // responseText -- текст ответа.\r\n        if (JSON.parse(xhr.responseText).pageInfo.totalResults !== 0)\r\n            videoInfoObj = JSON.parse(xhr.responseText);\r\n        else\r\n            videoInfoObj.notValid = 'Not Found';\r\n    }\r\n\r\n    console.log(videoInfoObj);\r\n    //LOG\r\n    logArray.push('Requested youtube obj: [' + JSON.stringify(videoInfoObj) + ']\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    return videoInfoObj;\r\n}\r\n\r\nfunction requestSpotifyObject(argumentsObj, requestType) {\r\n\r\n    const SPOTIFY_API_SERVER = \"https://api.spotify.com/v1/\";\r\n    var API_KEY = checkTokenInCookie();\r\n    let requestObj = notValidObj;\r\n    const maxResults = 10;\r\n    var url = SPOTIFY_API_SERVER;\r\n\r\n\r\n    if ('artists' in argumentsObj) {\r\n        requestObj.notValid = 'artist';\r\n        return requestObj;\r\n    }\r\n\r\n    switch (requestType) {\r\n        case 'track':\r\n            url += 'tracks/' + argumentsObj.track;\r\n            break;\r\n        case 'search':\r\n            url += 'search?q=' + argumentsObj.q + '&type=track&limit=' + maxResults;\r\n            break;\r\n        default:\r\n            return notValidObj;\r\n    }\r\n\r\n    //LOG\r\n    logArray.push('Request spotify url: ' + url + '\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url, false);\r\n\r\n    xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n    xhr.setRequestHeader('Content-Type', 'application/json');\r\n    xhr.setRequestHeader('Authorization', 'Bearer ' + API_KEY);\r\n\r\n    xhr.send();\r\n\r\n    if (xhr.status !== 200) {\r\n        // обработать ошибку\r\n        alert(xhr.status + ': ' + xhr.statusText); // пример вывода: 404: Not Found\r\n        requestObj.notValid = xhr.status + ':' + xhr.statusText;\r\n    } else {\r\n        // вывести результат\r\n        // responseText -- текст ответа.\r\n        if (JSON.parse(xhr.responseText).total !== 0)\r\n            requestObj = JSON.parse(xhr.responseText);\r\n    }\r\n\r\n    //LOG\r\n    logArray.push('Requested spotify obj: ' + xhr.responseText + '\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n    return requestObj;\r\n\r\n}\r\n\r\nfunction requestDeezerObject(argumentsObj, requestType) {\r\n    let requestObj = notValidObj;\r\n    let url = '/deezer/';\r\n\r\n    switch (requestType) {\r\n        case 'track':\r\n            url += 'track?id=' + argumentsObj.track;\r\n            break;\r\n        case 'search':\r\n            url += 'search?artist=' + argumentsObj.artist + \"&track=\" + argumentsObj.track;\r\n            break;\r\n        default:\r\n            requestObj.notValid = 'Bad Request Type'\r\n            return requestObj;\r\n    }\r\n\r\n    //LOG\r\n    logArray.push('Request deezer url: ' + url + '\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open('GET', url, false);\r\n    xhr.send();\r\n\r\n    if (xhr.status !== 200) {\r\n        // обработать ошибку\r\n        alert(xhr.status + ': ' + xhr.statusText); // пример вывода: 404: Not Found\r\n        requestObj.notValid = xhr.statusText;\r\n    } else {\r\n        // вывести результат\r\n        // responseText -- текст ответа.\r\n        if (JSON.parse(xhr.responseText).total !== 0)\r\n            requestObj = JSON.parse(xhr.responseText);\r\n    }\r\n\r\n    //LOG\r\n    logArray.push('Requested deezer obj: ' + xhr.responseText + '\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    return requestObj;\r\n\r\n}\r\n\r\nfunction getSpotifyToken() {\r\n    /*const base64key = \"Yjc0MmYwNWIxM2JkNGIzZmFmYzQ1MWNhOTYzYTMwNTM6NDM1M2FiZjQxMThjNGZkZDg2ODdhZjk4ZDQ3ZTA1NmM=\";\r\n    const proxyurl = \"https://cors-anywhere.herokuapp.com/\";\r\n    var xhr = new XMLHttpRequest();\r\n    var body = encodeURIComponent('grant_type') + encodeURIComponent('=') + encodeURIComponent('client_credentials');\r\n    console.log(body);\r\n    const url = 'https://accounts.spotify.com/api/token';\r\n    xhr.open(\"POST\", proxyurl + url, false);\r\n    xhr.setRequestHeader('Content-Type', 'application/json');\r\n    xhr.setRequestHeader('Authorization', 'Basic ' + base64key);\r\n    var result;\r\n\r\n    xhr.send(body);\r\n    if (xhr.status !== 200) {\r\n        alert(xhr.status + ': ' + xhr.statusText); // пример вывода: 404: Not Found\r\n    } else {\r\n        result = JSON.parse(xhr.responseText);\r\n    }  */\r\n\r\n\r\n    var result;\r\n    var xhr = new XMLHttpRequest();\r\n    xhr.open(\"GET\", '/token', false);\r\n    xhr.send();\r\n    if (xhr.status !== 200) {\r\n        alert(xhr.status + ': ' + xhr.statusText + \"Can't get spotify token from sendtrack server\"); // пример вывода: 404: Not Found\r\n    } else {\r\n        var obj = JSON.parse(xhr.responseText);\r\n        result = obj.token;\r\n        setCookie('spotifyKey', obj.token, { expires: (obj.expires - Date.now()) / 1000 });\r\n\r\n    }\r\n\r\n    /*    fetch('http://sendtrack-backend.ddns.net:9741/token',{ method: 'GET'})\r\n    .then(function(response) {\r\n        return response.json();\r\n    })\r\n    .then(function(myJson) {\r\n        alert(result);\r\n        return myJson.token;\r\n      }); */\r\n\r\n    return result;\r\n}\r\n\r\nfunction createSpotifyArguments(serviceObj) {\r\n\r\n    var urlSubstring = serviceObj.cutUrl;\r\n    var argumentsObj = {};\r\n\r\n    var arrayArguments = urlSubstring.split('/');\r\n    argumentsObj[arrayArguments[0]] = arrayArguments[1];\r\n\r\n    //LOG\r\n    logArray.push('Spotify arguments obj: [' + argumentsObj.toString() + ']\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    return argumentsObj;\r\n}\r\n\r\nfunction createDeezerArguments(serviceObj) {\r\n    var urlSubstring = serviceObj.cutUrl;\r\n    var argumentsObj = {};\r\n\r\n    var arrayArguments = urlSubstring.split('/');\r\n    if (arrayArguments[0] === 'artist' || arrayArguments[0] === 'track')\r\n        argumentsObj[arrayArguments[0]] = arrayArguments[1];\r\n\r\n    //LOG\r\n    logArray.push('Deezer arguments obj: [' + argumentsObj.toString() + ']\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    return argumentsObj;\r\n}\r\n\r\n\r\nfunction eraseYoutubeWatchArg(urlSubstring) {\r\n    var index = urlSubstring.indexOf('watch?');\r\n    return urlSubstring.substring(index + 'watch?'.length);\r\n}\r\n\r\nfunction createYoutubeArguments(serviceObj) {\r\n\r\n    var urlSubstring = serviceObj.cutUrl;\r\n    var argumentsObj = {};\r\n\r\n    if (urlSubstring.indexOf('watch?') !== -1) {\r\n        argumentsObj.type = 'track';\r\n        eraseYoutubeWatchArg(urlSubstring)\r\n    }\r\n    else {\r\n        argumentsObj.type = 'album';\r\n        return argumentsObj;\r\n    }\r\n\r\n    var arrayArguments = eraseYoutubeWatchArg(urlSubstring).split('&');\r\n    for (var i = 0; i < arrayArguments.length; i++) {\r\n        var index = arrayArguments[i].indexOf(\"=\");\r\n        var argument = arrayArguments[i].substring(0, index);\r\n        var value = arrayArguments[i].substring(index + 1, arrayArguments[i].length);\r\n        argumentsObj[argument] = value;\r\n    }\r\n    //LOG\r\n    logArray.push('Youtube arguments obj: [' + JSON.stringify(argumentsObj) + ']\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n    return argumentsObj;\r\n\r\n}\r\n\r\nexport function createArrayOfUrls(objectToCompare) {\r\n    let arrayOfUrls = {\r\n        spotify: 'Not Found',\r\n        youtube: 'Not Found',\r\n        youtubeMusic: 'Not Found',\r\n        deezer: 'Not Found'\r\n    }\r\n\r\n    //LOG\r\n    logArray.push('Initial Service: ' + objectToCompare.initialService);\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    if (objectToCompare.hasOwnProperty('notValid')) {\r\n        //LOG\r\n        logArray.push('Not Valid: ' + objectToCompare.notValid + '\\n');\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n        return arrayOfUrls;\r\n    }\r\n\r\n    function writeProps(artist, track, url, albumArt) {\r\n        return {\r\n            artist: artist,\r\n            track: track,\r\n            url: url,\r\n            albumArt: albumArt\r\n        }\r\n    }\r\n    if (objectToCompare.initialService !== ServicesUrl.spotify) {\r\n\r\n        let spotifyRequest = {\r\n            q: objectToCompare.artist + ' ' + objectToCompare.track\r\n        }\r\n        //LOG\r\n        logArray.push('Spotify request: ' + JSON.stringify(spotifyRequest) + '\\n');\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n        let requestedObj = requestSpotifyObject(spotifyRequest, 'search');\r\n\r\n        //LOG\r\n        logArray.push('Requested spotify obj: ' + JSON.stringify(requestedObj) + '\\n');\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n        if (!requestedObj.hasOwnProperty('type') && requestedObj.type !== 'album'\r\n            && !requestedObj.hasOwnProperty('notValid')) {\r\n\r\n            let returnedItem = searchInSpotifyObject(requestedObj, objectToCompare);\r\n            if (!returnedItem.hasOwnProperty('notValid')) {\r\n                let artists = '';\r\n                for (var i = 0; i < returnedItem.artists.length; i++) {\r\n                    if (i !== returnedItem.artists.length - 1)\r\n                        artists += returnedItem.artists[i].name + ', ';\r\n                    else\r\n                        artists += returnedItem.artists[i].name;\r\n                }\r\n\r\n                arrayOfUrls.spotify = writeProps(artists, returnedItem.name, returnedItem.external_urls.spotify,\r\n                    returnedItem.album.images[0].url);\r\n            }\r\n        }\r\n    }\r\n\r\n    if (objectToCompare.initialService !== ServicesUrl.youtubeMusic || objectToCompare.initialService !== ServicesUrl.youtube) {\r\n        let youtubeRequest = {\r\n            q: objectToCompare.artist + ' ' + objectToCompare.track\r\n        }\r\n        //LOG\r\n        logArray.push('Youtube request: ' + JSON.stringify(youtubeRequest) + '\\n');\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n\r\n        let requestedObj = requestYoutubeObject(youtubeRequest, 'search');\r\n        if (!requestedObj.hasOwnProperty('notValid')) {\r\n            let returnedItem = searchInYoutubeObject(requestedObj, objectToCompare);\r\n            if (!returnedItem.hasOwnProperty('notValid')) {\r\n                if (returnedItem.snippet.channelTitle.indexOf('- Topic') === -1) {\r\n                    var artist = '';\r\n                    var title = returnedItem.snippet.title;\r\n                    var str = returnedItem.snippet.title;\r\n                    var index = str.indexOf('-');\r\n                    if (str.indexOf('-') !== -1) {\r\n                        artist = str.substring(0, index).trim();\r\n                        title = str.substring(index + 1, str.length).trim();\r\n                    }\r\n                    if (objectToCompare.initialService !== ServicesUrl.youtubeMusic)\r\n                        arrayOfUrls.youtubeMusic = writeProps(artist, title, 'https://music.youtube.com/watch?v=' + returnedItem.id.videoId, returnedItem.snippet.thumbnails.high.url);\r\n                    if (objectToCompare.initialService !== ServicesUrl.youtube)\r\n                        arrayOfUrls.youtube = writeProps(artist, title, 'https://youtube.com/watch?v=' + returnedItem.id.videoId, returnedItem.snippet.thumbnails.high.url);\r\n                }\r\n                else {\r\n                    if (objectToCompare.initialService !== ServicesUrl.youtubeMusic)\r\n                        arrayOfUrls.youtubeMusic = writeProps(returnedItem.snippet.channelTitle.substring(0, returnedItem.snippet.channelTitle.indexOf('- Topic')),\r\n                            returnedItem.snippet.title, 'https://music.youtube.com/watch?v=' + returnedItem.id.videoId,\r\n                            returnedItem.snippet.thumbnails.high.url);\r\n                    if (objectToCompare.initialService !== ServicesUrl.youtube)\r\n                        arrayOfUrls.youtube = writeProps(returnedItem.snippet.channelTitle.substring(0, returnedItem.snippet.channelTitle.indexOf('- Topic')),\r\n                            returnedItem.snippet.title, 'https://youtube.com/watch?v=' + returnedItem.id.videoId,\r\n                            returnedItem.snippet.thumbnails.high.url);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    if (objectToCompare.initialService !== ServicesUrl.deezer) {\r\n        let deezerRequest = {\r\n            artist: objectToCompare.artist,\r\n            track: objectToCompare.track\r\n        }\r\n\r\n        //LOG\r\n        logArray.push('Deezer request: ' + JSON.stringify(deezerRequest) + '\\n');\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n\r\n        let requestedObj = requestDeezerObject(deezerRequest, 'search');\r\n        if (!requestedObj.hasOwnProperty('notValid')) {\r\n            let item = searchInDeezerObject(requestedObj, objectToCompare);\r\n            arrayOfUrls.deezer = writeProps(item.artist.name, item.title_short, item.link, item.album.cover_xl);\r\n        }\r\n        else{\r\n        //LOG\r\n        logArray.push('Deezer request not valid:[' + requestedObj.notValid + ']\\n');\r\n        console.log(logArray[logArray.length-1]);\r\n        //\r\n    }\r\n\r\n\r\n        \r\n    }\r\n    //LOG\r\n    logArray.push('Array of Urls:[' + JSON.stringify(arrayOfUrls) + ']\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n    return arrayOfUrls;\r\n}\r\n\r\nfunction searchInYoutubeObject(youtubeReturnedObject, objectToCompare) {\r\n    const artistName = objectToCompare.artist;\r\n    const trackName = objectToCompare.track;\r\n    const notFound = { notValid: 'Not Found2' };\r\n    var similarObject = notFound;\r\n    let foundFlag = false;\r\n\r\n    for (let item of youtubeReturnedObject.items) {\r\n        if (item.snippet.channelTitle.indexOf('- Topic') !== -1) {\r\n            var validTitle = item.snippet.channelTitle.substring(\r\n                0, item.snippet.channelTitle.indexOf(' - Topic'));\r\n            if (!matchStringsWithoutSpecs(trackName, item.snippet.title) && !matchStringsWithoutSpecs(item.snippet.title, trackName))\r\n                continue;\r\n            if (!matchStringsWithoutSpecs(artistName, validTitle) && !matchStringsWithoutSpecs(validTitle, artistName))\r\n                continue;\r\n            similarObject = item;\r\n            foundFlag = true;\r\n            break;\r\n        }\r\n    }\r\n    if (!foundFlag) {\r\n        for (let item of youtubeReturnedObject.items) {\r\n            if (!matchStringsWithoutSpecs(artistName + ' ' + trackName, item.snippet.title) && !matchStringsWithoutSpecs(item.snippet.title, artistName + ' ' + trackName))\r\n                continue;\r\n            similarObject = item;\r\n            break;\r\n        }\r\n    }\r\n\r\n    return similarObject;\r\n\r\n}\r\n\r\nfunction searchInSpotifyObject(spotifyReturnedObject, objectToCompare) {\r\n    const artistName = objectToCompare.artist;\r\n    const trackName = objectToCompare.track;\r\n    const notFound = { notValid: 'Not Found2' };\r\n\r\n    var similarObject = notFound;\r\n    for (var item of spotifyReturnedObject.tracks.items) {\r\n\r\n        let validator = false;\r\n\r\n        if (item.type === 'track') {\r\n\r\n            if (!matchStringsWithoutSpecs(trackName, item.name) && !matchStringsWithoutSpecs(item.name, trackName))\r\n                continue;\r\n\r\n            for (var artist of item.artists) {\r\n                if (matchStringsWithoutSpecs(artistName, artist.name) && matchStringsWithoutSpecs(artist.name, artistName)) {\r\n                    validator = true;\r\n                    break;\r\n                }\r\n                else\r\n                    validator = false\r\n            }\r\n            similarObject = item;\r\n\r\n            if (validator)\r\n                return similarObject;\r\n\r\n        }\r\n    }\r\n\r\n\r\n    return similarObject;\r\n}\r\n\r\nfunction searchInDeezerObject(deezerReturnedObject, objectToCompare){\r\nconst artistName = objectToCompare.artist;\r\n    const trackName = objectToCompare.track;\r\n    const notFound = { notValid: 'Not Found2' };\r\n\r\n    var similarObject = notFound;\r\n    for (var item of deezerReturnedObject.data) {\r\n\r\n        if (item.type === 'track') {\r\n\r\n            if (!matchStringsWithoutSpecs(trackName, item.title) && !matchStringsWithoutSpecs(item.title, trackName))\r\n                continue;\r\n\r\n            if (matchStringsWithoutSpecs(artistName, item.artist.name) && matchStringsWithoutSpecs(item.artist.name, artistName)) {\r\n                    similarObject = item;\r\n                    break;\r\n                }\r\n            }\r\n\r\n        }\r\n        return similarObject;\r\n    }\r\n\r\nfunction matchStringsWithoutSpecs(firstString, secondString) {\r\n    var reg = new RegExp(\"[\\\\s-\\\\]\\\\[\\\\)\\\\(\\\\/\\\\.&]\", \"i\");\r\n    var splitedFirstString = firstString.split(reg);\r\n    var splitedSecondString = secondString.split(reg);\r\n    splitedFirstString = splitedFirstString.filter(function (el) {\r\n        return el !== \"\";\r\n    });\r\n    splitedSecondString = splitedSecondString.filter(function (el) {\r\n        return el !== \"\";\r\n    });\r\n\r\n    //LOG\r\n    logArray.push('Splitted first string:[' + splitedFirstString.toString() + ']\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    logArray.push('Splitted second string:[' + splitedSecondString.toString() + ']\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n\r\n    for (var substringFirst of splitedFirstString) {\r\n        var indicator = false;\r\n        for (var substringSecond of splitedSecondString) {\r\n            let reg = new RegExp(substringSecond, \"i\");\r\n\r\n            if (substringFirst.search(reg) !== -1) {\r\n                indicator = true;\r\n                console.log('Found');\r\n                break;\r\n            }\r\n            else\r\n                indicator = false;\r\n        }\r\n        if (!indicator) {\r\n            //LOG\r\n            logArray.push('Not equal\\n');\r\n            console.log(logArray[logArray.length-1]);\r\n            //\r\n            return false;\r\n        }\r\n\r\n    }\r\n    //LOG\r\n    logArray.push('Equal\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n    //\r\n    return true;\r\n}\r\n\r\nfunction checkService(inputUrl) {\r\n    let index = -1;\r\n    let serviceName = \"\";\r\n    let url = inputUrl;\r\n    if(url.indexOf('youtu.be/') !== -1){\r\n        url = 'https://www.youtube.com/watch?v=' + url.substring(url.indexOf('youtu.be/') + 'youtu.be/'.length,url.length);\r\n    }\r\n\r\n    for (let Service in ServicesUrl) {\r\n\r\n        let found = checkServiceUrl(url, ServicesUrl[Service]);\r\n        if (found !== -1) {\r\n            index = found;\r\n            serviceName = ServicesUrl[Service];\r\n            break;\r\n        }\r\n    }\r\n\r\n    let cutUrl = url.substring(index);\r\n    cutUrl = eraseDomain(cutUrl);\r\n    //LOG\r\n    logArray.push('Service Name: ' + serviceName + '\\n');\r\n    console.log(logArray[logArray.length-1]);\r\n\r\n    return {\r\n        service: serviceName,\r\n        cutUrl: cutUrl,\r\n    }\r\n\r\n}\r\n\r\nfunction createObjectToCompare(artist = '', track = '', url = '', service = '') {\r\n    return {\r\n        artist: artist,\r\n        track: track,\r\n        url: url,\r\n        initialService: service\r\n    }\r\n}\r\n\r\nfunction checkServiceUrl(urlString, serviceString) {\r\n    var index = urlString.indexOf(serviceString);\r\n    if (index !== -1)\r\n        index += serviceString.length;\r\n\r\n    return index;\r\n}\r\n\r\nfunction setCookie(name, value, options) {\r\n    options = options || {};\r\n\r\n    var expires = options.expires;\r\n\r\n    if (typeof expires == \"number\" && expires) {\r\n        var d = new Date();\r\n        d.setTime(d.getTime() + expires * 1000);\r\n        expires = options.expires = d;\r\n    }\r\n    if (expires && expires.toUTCString) {\r\n        options.expires = expires.toUTCString();\r\n    }\r\n\r\n    value = encodeURIComponent(value);\r\n\r\n    var updatedCookie = name + \"=\" + value;\r\n\r\n    for (var propName in options) {\r\n        updatedCookie += \"; \" + propName;\r\n        var propValue = options[propName];\r\n        if (propValue !== true) {\r\n            updatedCookie += \"=\" + propValue;\r\n        }\r\n    }\r\n\r\n    document.cookie = updatedCookie;\r\n}\r\n\r\nfunction getCookie(name) {\r\n    var matches = document.cookie.match(new RegExp(\r\n        \"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\"\r\n    ));\r\n    return matches ? decodeURIComponent(matches[1]) : undefined;\r\n}\r\n\r\nfunction checkTokenInCookie() {\r\n    var buffer = getCookie('spotifyKey');\r\n    if (buffer)\r\n        return buffer;\r\n    else\r\n        return getSpotifyToken();\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport '../scss/InputForm.scss';\r\nimport searchLogo from '../SVG/search-solid.svg';\r\nimport {urlValidator} from '../SendTrack_lib.js';\r\n\r\nexport default class InputForm extends Component {\r\n\r\n    static propTypes = {\r\n        content: PropTypes.string,\r\n        isUrl:  PropTypes.bool\r\n        \r\n    };\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            placeholder: \"Enter: Url / artist - name\",\r\n            content: '',\r\n            isUrl: false,\r\n        }\r\n        this.handleInputChange = this.handleInputChange.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n    }\r\n\r\n    handleInputChange(e) {\r\n        const content = e.target.value;\r\n        this.setState(() => {\r\n            return {\r\n                content,\r\n                isUrl: urlValidator(content),\r\n            };\r\n        })\r\n    }\r\n\r\n    handleSubmit(e) {\r\n        e.preventDefault();\r\n        const input = this.state.content;\r\n        if (!this.state.isUrl) {\r\n            this.setState(() => ({\r\n                content: '',\r\n                isUrl: false,\r\n            }));\r\n        }\r\n        \r\n        this.props.onSubmit(input, this.state.isUrl);\r\n        this.setState(() => ({\r\n            content: '',\r\n            isUrl: false,\r\n        }))\r\n        console.log(\"submit\");\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className='input-form container'>\r\n            <form className='input-form__text-form'>\r\n                <input value={this.state.content}\r\n                    placeholder={this.state.placeholder}\r\n                    onChange={this.handleInputChange}\r\n                    onSubmit={this.handleSubmit} />\r\n                <button onClick={this.handleSubmit}><img src={searchLogo} alt=\"\"/></button>\r\n            </form>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n\r\n}","import React, { Component } from 'react';\r\nimport '../scss/Link.scss'\r\n\r\nexport default class LinksBlock extends Component {\r\n    /*     constructor(props){\r\n            super(props);\r\n            this.state = { \r\n                albumArt: '',\r\n                artist:'',\r\n                track:'',\r\n                url:'',\r\n                service: ''\r\n            }\r\n        } */\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"link container\">\r\n                    <a href={this.props.url} className=\"link__element container\"\r\n                    target=\"_blank\" rel=\"noopener noreferrer\">\r\n                        <img src={this.props.albumArt} className=\"link__album-art\" alt=\"\" />\r\n                        <div className=\"link__artist-track container\">\r\n                            <div className=\"link__track-name\">{this.props.track}</div>\r\n                            <div className=\"link__artist-name\">{this.props.artist}</div>\r\n                        </div>\r\n                        <img src={this.props.service} className=\"link__service-name\" alt=\"\"/> \r\n                    </a>\r\n                \r\n            </div>)\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport Link from './Link';\r\nimport '../scss/LinksBlock.scss';\r\nimport youtube_icon from '../SVG/youtube-icon.svg';\r\nimport spotify_icon from '../SVG/spotify-icon.svg';\r\nimport youtubeMusic_icon from '../SVG/youtube-music-icon.svg';\r\nimport deezer_icon from '../SVG/deezer-icon.svg'\r\n\r\nexport default class LinksBlock extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.getInfo = this.getInfo.bind(this);\r\n        this.getLinks = this.getLinks.bind(this);\r\n\r\n    }\r\n\r\n    getInfo() {\r\n        return (<div className='links-block__input-object'>\r\n            {this.props.artist}<br />\r\n            {this.props.track}<br />\r\n            {this.props.url}<br />\r\n        </div>)\r\n    }\r\n\r\n    getLinks() {\r\n        let arrayOfUrls = [];\r\n        function createLinkJSX(item) {\r\n            return (\r\n                <Link service={item.service} artist={item.artist} track={item.track}\r\n                    url={item.url} albumArt={item.albumArt} />\r\n            );\r\n        }\r\n        for (var service in this.props.arrayOfUrls) {\r\n            if (this.props.arrayOfUrls[service] === 'Not Found')\r\n                continue;\r\n            var obj = this.props.arrayOfUrls[service];\r\n            switch (service) {\r\n                case 'spotify':\r\n                    obj.service = spotify_icon;\r\n                    break;\r\n                case 'youtube':\r\n                    obj.service = youtube_icon;\r\n                    break;\r\n                case 'youtubeMusic':\r\n                    obj.service = youtubeMusic_icon;\r\n                    break;\r\n                case 'deezer':\r\n                    obj.service = deezer_icon;\r\n                    break;\r\n                default:\r\n                    break;\r\n            }\r\n            arrayOfUrls.push(createLinkJSX(obj));\r\n        }\r\n\r\n        console.log(arrayOfUrls);\r\n        return arrayOfUrls;\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"links-block container\">\r\n                <this.getInfo />\r\n                <this.getLinks />\r\n                {/* <Link service='spotify' artist='linkin park'\r\n                    track='numb'\r\n                    url=''\r\n                    albumArt='https://i.scdn.co/image/c03090e1f4b09d79fd41855023460c02e13993a8'\r\n                />\r\n                <Link service='youtube' artist='linkin park'\r\n                    track='numb offical video - numb offical video - numb offical video'\r\n                    url=''\r\n                    albumArt='https://i.ytimg.com/vi/kXYiU_JCYtU/hqdefault.jpg'\r\n                />\r\n                <Link service='youtubeMusic' artist='linkin park'\r\n                    track='numb offical video - numb offical video - numb offical video' \r\n                    url=''\r\n                    albumArt='https://i.ytimg.com/vi/kXYiU_JCYtU/hqdefault.jpg'\r\n                />\r\n                <Link service='deezer' artist='linkin park'\r\n                    track='numb'\r\n                    url=''\r\n                    albumArt='https://e-cdns-images.dzcdn.net/images/cover/44df4f6fb2534768f4924365c103d0f7/1000x1000-000000-80-0-0.jpg'\r\n                /> */}\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './scss/App.scss';\r\nimport background from './img/image-from-rawpixel-id-558785-jpeg.jpg';\r\n//import crystall from './img/image-from-rawpixel-id-558806-jpeg.jpg';\r\nimport InputForm from './Components/InputForm';\r\nimport { urlWorker } from '../src/SendTrack_lib.js';\r\nimport { createArrayOfUrls } from '../src/SendTrack_lib.js';\r\nimport { searchByWord } from '../src/SendTrack_lib.js';\r\nimport LinksBlock from './Components/LinksBlock';\r\n\r\n\r\nclass App extends Component {\r\n\r\n  static propTypes = {\r\n    url: PropTypes.string,\r\n\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.initialState = {\r\n      artist: '',\r\n      track: '',\r\n      url: '',\r\n      background: background,\r\n      arrayOfUrls: {\r\n        spotify: 'Not Found',\r\n        youtube: 'Not Found',\r\n        youtubeMusic: 'Not Found'\r\n      }\r\n    }\r\n    this.state = this.initialState\r\n    this.getLink = this.getLink.bind(this);\r\n  }\r\n\r\n\r\n  getLink(input, isUrl) {\r\n    var objToCompare;\r\n    var albumArt = background;\r\n    if (isUrl)\r\n      objToCompare = urlWorker(input);\r\n    else\r\n      objToCompare = searchByWord(input);\r\n\r\n    var arrayOfUrls = createArrayOfUrls(objToCompare);\r\n    if (arrayOfUrls.spotify !== \"Not Found\")\r\n        albumArt = arrayOfUrls.spotify.albumArt;\r\n    else\r\n      if(arrayOfUrls.youtubeMusic !== \"Not Found\")\r\n        albumArt = arrayOfUrls.youtubeMusic.albumArt;\r\n\r\n      this.setState(() => ({\r\n        artist: objToCompare.artist,\r\n        track: objToCompare.track,\r\n        url: objToCompare.url,\r\n        arrayOfUrls: arrayOfUrls,\r\n        background: albumArt\r\n      }));\r\n\r\n\r\n\r\n\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n       {/*  <img className=\"crystall\" src={crystall} alt=\"\"/> */}\r\n        <img className=\"bg\" src={this.state.background} alt=\"\" />\r\n        <InputForm onSubmit={this.getLink} />\r\n        <LinksBlock arrayOfUrls={this.state.arrayOfUrls} artist={this.state.artist} track={this.state.track} url={this.state.url} />\r\n        <div id=\"result\"></div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Styles/index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.register();\r\n"],"sourceRoot":""}